<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Umoja V2 ‚Äì Invitations</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="Umoja-logo.png" />

  <style>
    :root {
      --bg: #020617;
      --bg-soft: #020b1f;
      --bg-card: #0b1027;
      --bg-elevated: #020819;
      --accent1: #1e90ff;
      --accent2: #00e6ff;
      --accent3: #38bdf8;
      --text-main: #f9fafb;
      --text-muted: #9ca3af;
      --border-subtle: #1f2937;
      --danger: #f97373;
      --success: #34d399;
      --shadow-soft: 0 18px 45px rgba(0, 0, 0, 0.55);
      --radius-lg: 18px;
      --radius-md: 12px;
      --radius-pill: 999px;
      --font-main: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text",
        "Segoe UI", sans-serif;

      --logo-shadow-strength: 0.9;
      --particle-opacity: 0.25;

      /* light mode vars */
      --bg-light: #f3f4f6;
      --bg-soft-light: #e5e7eb;
      --bg-card-light: #ffffff;
      --bg-elevated-light: #f9fafb;
      --text-main-light: #020617;
      --text-muted-light: #4b5563;
      --border-subtle-light: #e5e7eb;
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      font-family: var(--font-main);
      min-height: 100vh;
      color: var(--text-main);
      background: radial-gradient(circle at top, #041428 0, var(--bg) 42%);
      position: relative;
      overflow-x: hidden;
      scroll-behavior: smooth;
      animation: bodyFadeIn 0.9s ease-out forwards;
    }

    body.theme-light { background: var(--bg-light); color: var(--text-main-light); }

    body.theme-light .card { background: var(--bg-card-light); border-color: var(--border-subtle-light); }
    body.theme-light .hero-subtitle,
    body.theme-light .section-label,
    body.theme-light .brand-text-sub,
    body.theme-light .form-footnote,
    body.theme-light .mini-sub,
    body.theme-light .hero-footnote { color: var(--text-muted-light); }

    body.theme-light .contract-box {
      background: var(--bg-elevated-light);
      border-color: var(--border-subtle-light);
    }
    body.theme-light footer {
      border-top-color: var(--border-subtle-light);
      color: var(--text-muted-light);
    }
    body.theme-light .nav-link,
    body.theme-light .mini-header-inner {
      background: rgba(255, 255, 255, 0.86);
      border-color: var(--border-subtle-light);
      color: var(--text-main-light);
    }
    body.theme-light .mini-header-inner { backdrop-filter: blur(22px); }

    @keyframes bodyFadeIn {
      from { opacity: 0; transform: translateY(6px); }
      to   { opacity: 1; transform: translateY(0); }
    }

    .app-shell {
      max-width: 1120px;
      margin: 0 auto;
      padding: 18px 16px 70px;
      position: relative;
      z-index: 1;
    }

    /* PARTICLE BACKGROUND */
    #particleCanvas {
      position: fixed;
      inset: 0;
      z-index: 0;
      opacity: var(--particle-opacity);
      pointer-events: none;
    }

    /* WATERMARK */
    .watermark {
      position: fixed;
      right: -80px;
      top: 55%;
      transform: translateY(-50%) rotate(-90deg);
      font-size: 5.5rem;
      letter-spacing: 0.35em;
      text-transform: uppercase;
      color: rgba(15, 23, 42, 0.6);
      opacity: 0.05;
      pointer-events: none;
      user-select: none;
      white-space: nowrap;
      z-index: 0;
      animation: watermarkFloat 20s ease-in-out infinite alternate;
    }
    body.theme-light .watermark { color: rgba(148, 163, 184, 0.45); opacity: 0.1; }

    @keyframes watermarkFloat {
      0%   { transform: translateY(-50%) rotate(-90deg) translateX(0); }
      100% { transform: translateY(-50%) rotate(-90deg) translateX(40px); }
    }

    /* HEADER */
    header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 14px;
      margin-bottom: 26px;
    }

    .brand { display: flex; align-items: center; gap: 11px; }

    .brand-logo {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background: radial-gradient(circle at 30% 0, #4bf3ff 0, #0072ff 40%, #00163d 90%);
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      overflow: hidden;
      transform-style: preserve-3d;
      cursor: pointer;
      box-shadow:
        0 10px 25px rgba(0, 0, 0, var(--logo-shadow-strength)),
        0 0 40px rgba(15, 23, 42, var(--logo-shadow-strength));
      animation: logoBreath 4.5s ease-in-out infinite;
      transition: transform 0.35s ease, box-shadow 0.35s ease;
    }

    @keyframes logoBreath {
      0%, 100% {
        box-shadow:
          0 10px 25px rgba(0, 0, 0, var(--logo-shadow-strength)),
          0 0 40px rgba(37, 99, 235, 0.65);
      }
      50% {
        box-shadow:
          0 18px 40px rgba(0, 0, 0, var(--logo-shadow-strength)),
          0 0 70px rgba(56, 189, 248, 0.95);
      }
    }

    .brand-logo::before {
      content: "";
      position: absolute;
      inset: -10%;
      background: linear-gradient(120deg, transparent 0%, rgba(255,255,255,0.4) 40%, transparent 80%);
      transform: translateX(-140%);
      opacity: 0;
      pointer-events: none;
    }

    .brand-logo:hover { transform: translateY(-4px) rotateX(8deg) rotateY(-7deg); }
    .brand-logo:hover::before { opacity: 1; animation: logoShimmer 1.4s ease-out; }

    @keyframes logoShimmer {
      0%   { transform: translateX(-140%); opacity: 0; }
      25%  { opacity: 1; }
      100% { transform: translateX(140%); opacity: 0; }
    }

    .brand-logo img {
      width: 130%;
      height: 130%;
      border-radius: 50%;
      object-fit: cover;
      transform: translateY(-4%);
    }

    .brand-text-title {
      font-weight: 700;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      font-size: 0.9rem;
    }
    .brand-text-sub { font-size: 0.72rem; color: var(--text-muted); }

    nav {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      justify-content: flex-end;
      align-items: center;
    }

    .nav-link {
      padding: 7px 14px;
      border-radius: var(--radius-pill);
      background: rgba(15, 23, 42, 0.8);
      border: 1px solid rgba(148, 163, 184, 0.4);
      font-size: 0.78rem;
      color: var(--text-muted);
      cursor: pointer;
      transition: 0.2s ease;
      backdrop-filter: blur(18px);
    }
    .nav-link:hover {
      color: var(--text-main);
      border-color: var(--accent1);
      box-shadow: 0 0 0 1px rgba(56, 189, 248, 0.4);
    }

    .theme-toggle {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      font-size: 0.75rem;
      padding: 5px 10px;
      border-radius: var(--radius-pill);
      border: 1px solid rgba(148, 163, 184, 0.4);
      background: rgba(15, 23, 42, 0.8);
      cursor: pointer;
    }
    .theme-toggle-thumb {
      width: 18px;
      height: 18px;
      border-radius: 999px;
      background: linear-gradient(135deg, #facc15, #f97316);
    }
    body.theme-light .theme-toggle-thumb {
      background: linear-gradient(135deg, #0f172a, #1e293b);
    }

    /* MINI HEADER */
    .mini-header {
      position: fixed;
      inset-inline: 0;
      top: 0;
      transform: translateY(-100%);
      transition: transform 0.3s ease;
      z-index: 900;
      pointer-events: none;
    }
    .mini-header-visible { transform: translateY(0); pointer-events: auto; }
    .mini-header-inner {
      max-width: 1120px;
      margin: 0 auto;
      padding: 7px 14px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 10px;
      background: rgba(3, 7, 18, 0.92);
      border-bottom: 1px solid rgba(15, 23, 42, 0.95);
      backdrop-filter: blur(20px);
    }
    .mini-left { display: flex; align-items: center; gap: 8px; }
    .mini-logo {
      width: 32px; height: 32px; border-radius: 50%;
      background: radial-gradient(circle at 30% 0, #4bf3ff 0, #0072ff 40%, #00163d 90%);
      overflow: hidden;
      box-shadow: 0 4px 10px rgba(0,0,0,0.8), 0 0 18px rgba(37,99,235,0.8);
    }
    .mini-logo img {
      width: 130%; height: 130%; border-radius: 50%;
      object-fit: cover; transform: translateY(-4%);
    }
    .mini-text { display: flex; flex-direction: column; gap: 2px; font-size: 0.72rem; }
    .mini-title { text-transform: uppercase; letter-spacing: 0.16em; font-weight: 600; }
    .mini-sub { color: var(--text-muted); }
    .mini-cta {
      border-radius: var(--radius-pill);
      border: 1px solid rgba(148, 163, 184, 0.7);
      background: transparent;
      padding: 6px 14px;
      font-size: 0.76rem;
      color: var(--text-main);
      cursor: pointer;
      transition: 0.18s ease;
      white-space: nowrap;
    }
    .mini-cta:hover { border-color: var(--accent1); background: rgba(15, 23, 42, 0.9); }

    /* GRID */
    .grid-2 {
      display: grid;
      grid-template-columns: minmax(0, 1.3fr) minmax(0, 1fr);
      gap: 24px;
      align-items: stretch;
    }

    .card {
      background: radial-gradient(circle at top left, #111827 0, var(--bg-card) 55%);
      border-radius: var(--radius-lg);
      border: 1px solid rgba(55, 65, 81, 0.85);
      padding: 20px 22px;
      position: relative;
      overflow: hidden;
      box-shadow: var(--shadow-soft);
      transform-style: preserve-3d;
      will-change: transform;
    }
    .card::before {
      content: "";
      position: absolute;
      inset: -40%;
      background: radial-gradient(circle at top right, rgba(56, 189, 248, 0.18), transparent 60%);
      opacity: 0.6;
      pointer-events: none;
    }
    .card-inner {
      position: relative;
      z-index: 1;
      opacity: 0;
      transform: translateY(14px);
      animation: cardIn 0.8s ease-out forwards;
    }
    @keyframes cardIn { to { opacity: 1; transform: translateY(0); } }

    .section-label {
      font-size: 0.7rem;
      text-transform: uppercase;
      letter-spacing: 0.18em;
      color: var(--accent2);
      margin-bottom: 6px;
    }

    h1, h2, h3 { font-weight: 700; letter-spacing: 0.02em; }
    h1 { font-size: clamp(1.85rem, 3.1vw, 2.35rem); line-height: 1.15; margin-bottom: 8px; }
    h2 { font-size: 1.26rem; margin-bottom: 8px; }

    .hero-subtitle {
      color: var(--text-muted);
      font-size: 0.9rem;
      margin-bottom: 16px;
      line-height: 1.6;
    }

    .badge-row { display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 18px; }
    .badge {
      font-size: 0.75rem;
      padding: 6px 11px;
      border-radius: var(--radius-pill);
      border: 1px solid rgba(148, 163, 184, 0.5);
      color: var(--text-muted);
      background: rgba(15, 23, 42, 0.85);
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }
    .badge-dot {
      width: 7px; height: 7px; border-radius: 50%;
      background: linear-gradient(135deg, var(--accent1), var(--accent2));
      box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.35);
    }

    .hero-actions { display: flex; flex-wrap: wrap; gap: 10px; margin-bottom: 10px; }

    .btn {
      border-radius: var(--radius-pill);
      border: none;
      padding: 11px 20px;
      font-size: 0.88rem;
      font-weight: 600;
      display: inline-flex;
      align-items: center;
      gap: 7px;
      cursor: pointer;
      transition: 0.2s ease;
      white-space: nowrap;
    }
    .btn-primary {
      background: linear-gradient(135deg, var(--accent1), var(--accent2));
      color: #020617;
      box-shadow: 0 16px 30px rgba(37, 99, 235, 0.6);
    }
    .btn-primary:hover {
      transform: translateY(-1px);
      box-shadow: 0 20px 36px rgba(37, 99, 235, 0.72);
      filter: brightness(1.04);
    }
    .btn-ghost {
      background: transparent;
      border: 1px solid rgba(148, 163, 184, 0.55);
      color: var(--text-muted);
    }
    .btn-ghost:hover { border-color: var(--accent1); color: var(--text-main); }
    .btn-disabled { opacity: 0.45; cursor: not-allowed; }

    .hero-footnote { font-size: 0.76rem; color: var(--text-muted); margin-top: 6px; }

    /* CONTRACT */
    .contract-box {
      border-radius: var(--radius-md);
      padding: 12px 14px;
      border: 1px dashed rgba(148, 163, 184, 0.75);
      margin-bottom: 16px;
      background: rgba(15, 23, 42, 0.95);
      font-size: 0.78rem;
    }
    .contract-title {
      font-size: 0.75rem;
      letter-spacing: 0.17em;
      text-transform: uppercase;
      color: var(--text-muted);
      margin-bottom: 4px;
    }
    .contract-address {
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 0.78rem;
      padding: 7px 10px;
      border-radius: 9px;
      border: 1px solid rgba(55, 65, 81, 0.9);
      background: rgba(15, 23, 42, 0.98);
      word-break: break-all;
      margin-bottom: 6px;
    }
    .contract-warning { font-size: 0.72rem; color: var(--danger); }

    section { margin-top: 28px; }
    section p { font-size: 0.88rem; color: var(--text-muted); line-height: 1.6; margin-bottom: 10px; }

    /* Steps */
    .steps {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 12px;
      margin-top: 12px;
    }
    .step-card {
      border-radius: var(--radius-md);
      border: 1px solid rgba(55, 65, 81, 0.9);
      background: linear-gradient(145deg, #020617, #020b1f);
      padding: 12px 14px;
      font-size: 0.82rem;
    }
    .step-index {
      width: 22px; height: 22px; border-radius: 999px;
      background: radial-gradient(circle at top, var(--accent2), var(--accent1));
      display: inline-flex; align-items: center; justify-content: center;
      font-size: 0.78rem; margin-bottom: 6px;
    }
    .step-title { font-weight: 600; margin-bottom: 4px; }
    .step-body { color: var(--text-muted); line-height: 1.5; }
    .code-pill {
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 0.76rem;
      padding: 4px 6px;
      border-radius: 7px;
      border: 1px solid rgba(55, 65, 81, 0.9);
      background: rgba(15, 23, 42, 0.96);
      display: inline-block;
      margin-top: 4px;
    }

    /* Form */
    .form-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(210px, 1fr));
      gap: 12px;
      margin: 12px 0 10px;
    }
    label { font-size: 0.78rem; color: var(--text-muted); display: block; margin-bottom: 4px; }
    .required { color: var(--accent2); }
    input, textarea {
      width: 100%;
      border-radius: 10px;
      border: 1px solid rgba(55, 65, 81, 0.96);
      padding: 9px 10px;
      background: rgba(15, 23, 42, 0.96);
      color: var(--text-main);
      font-size: 0.82rem;
      outline: none;
      transition: 0.17s ease;
    }
    input:focus, textarea:focus {
      border-color: var(--accent1);
      box-shadow: 0 0 0 1px rgba(37, 99, 235, 0.68);
    }
    body.theme-light input, body.theme-light textarea {
      background: var(--bg-elevated-light);
      border-color: var(--border-subtle-light);
      color: var(--text-main-light);
    }
    textarea { resize: vertical; min-height: 80px; }
    .form-footnote { font-size: 0.76rem; color: var(--text-muted); margin-top: 4px; }

    .status { font-size: 0.78rem; margin-top: 6px; }
    .status-success { color: var(--success); }
    .status-error   { color: var(--danger); }

    footer {
      margin-top: 34px;
      font-size: 0.72rem;
      color: var(--text-muted);
      border-top: 1px solid rgba(15, 23, 42, 0.9);
      padding-top: 12px;
      display: flex;
      justify-content: space-between;
      flex-wrap: wrap;
      gap: 10px;
    }
    .footer-links { display: inline-flex; flex-wrap: wrap; gap: 10px; }
    .footer-link { cursor: pointer; text-decoration: underline; text-decoration-style: dotted; }

    /* Mobile */
    .mobile-cta {
      position: fixed;
      left: 50%;
      transform: translateX(-50%);
      bottom: 14px;
      padding: 10px 18px;
      border-radius: var(--radius-pill);
      background: linear-gradient(135deg, var(--accent1), var(--accent2));
      color: #020617;
      font-size: 0.88rem;
      font-weight: 600;
      box-shadow: 0 18px 35px rgba(37, 99, 235, 0.9);
      display: none;
      z-index: 800;
      border: none;
    }

    @media (max-width: 640px) {
      header { flex-direction: column; align-items: center; text-align: center; }
      nav { justify-content: center; width: 100%; }
      .grid-2 { grid-template-columns: minmax(0, 1fr); }
      .brand-logo { width: 54px; height: 54px; }
      h1 { font-size: 1.7rem; }
      .hero-subtitle { font-size: 0.84rem; }
      .mobile-cta { display: inline-flex; }
      .hero-actions { flex-direction: column; align-items: stretch; }
    }

    @media (max-width: 480px) {
      .app-shell { padding-inline: 14px; }
      .badge-row { flex-direction: column; }
      .mini-header-inner { padding-inline: 10px; }
    }
  </style>
</head>

<body>
  <canvas id="particleCanvas"></canvas>
  <div class="watermark">UMOJA V2</div>

  <!-- Sticky mini header -->
  <div id="miniHeader" class="mini-header">
    <div class="mini-header-inner">
      <div class="mini-left">
        <div class="mini-logo">
          <img src="Umoja-logo.png" alt="Umoja Logo" />
        </div>
        <div class="mini-text">
          <span class="mini-title">UMOJA V2</span>
          <span class="mini-sub">Invitations</span>
        </div>
      </div>
      <button class="mini-cta" data-scroll-to="invitation">Invite now</button>
    </div>
  </div>

  <!-- Mobile floating CTA -->
  <button class="mobile-cta" data-scroll-to="invitation">
    Invite investor to Umoja V2
  </button>

  <div class="app-shell">
    <!-- HEADER -->
    <header>
      <div class="brand">
        <div class="brand-logo" data-scroll-to="hero">
          <img src="Umoja-logo.png" alt="Umoja Logo" />
        </div>
        <div class="brand-text">
          <div class="brand-text-title">UMOJA</div>
          <div class="brand-text-sub">Early investment ‚Ä¢ Web3 ecosystem</div>
        </div>
      </div>

      <nav>
        <button class="nav-link" data-scroll-to="hero">Home</button>
        <button class="nav-link" data-scroll-to="how-to-invest">How to invest</button>
        <button class="nav-link" data-scroll-to="invitation">Invitation form</button>
        <a class="nav-link" href="admin.html" style="text-decoration:none; display:inline-flex; align-items:center;">
          Admin portal
        </a>
        <button id="themeToggle" class="theme-toggle" type="button">
          <span class="theme-toggle-thumb"></span>
          <span>Theme</span>
        </button>
      </nav>
    </header>

    <!-- HERO -->
    <div class="grid-2" id="hero">
      <div class="card hero-parallax">
        <div class="card-inner">
          <div class="section-label">Umoja V2 ‚Ä¢ Invitations</div>
          <h1>Invite investors to Umoja V2 before AI changes everything.</h1>
          <p class="hero-subtitle">
            Early Umoja investors get exposure to the Umoja ecosystem, free crypto education,
            and a first-mover position before AI reduces traditional job opportunities.
          </p>

          <div class="badge-row">
            <div class="badge">
              <span class="badge-dot"></span>
              Track invitations ‚Ä¢ <strong>Referral code support</strong>
            </div>
            <div class="badge">Secure reminder: <strong>Verify contract</strong></div>
          </div>

          <div class="hero-actions">
            <button class="btn btn-primary" data-scroll-to="how-to-invest">
              How to invest in Umoja V2 ‚Üí
            </button>
            <button class="btn btn-ghost" data-scroll-to="invitation">
              Submit an invitation now
            </button>
            <button id="connectWalletBtn" type="button" class="btn btn-ghost">
              Connect MetaMask
            </button>
          </div>
          <p id="walletStatus" class="hero-footnote"></p>
          <p class="hero-footnote">
            This page is for education &amp; invitations only. Always double-check the
            official contract address before investing.
          </p>
        </div>
      </div>

      <div class="card hero-parallax">
        <div class="card-inner">
          <div class="section-label">Official contract</div>

          <div class="contract-box">
            <div class="contract-title">Official Umoja V2 contract address (BNB Chain)</div>
            <div class="contract-address">
              0x8D6A79567a701FCe55b62C15d0fbB765913ac84a
            </div>
            <div class="contract-warning">
              Always verify this exact address on trusted channels before you send any funds.
              Never trust random screenshots or forwarded messages.
            </div>
          </div>

          <p class="hero-subtitle" style="margin-bottom:0;">
            Tip: Share your referral link like <span class="code-pill">?ref=UMJ-251212-1234</span> so the code auto-fills.
          </p>
        </div>
      </div>
    </div>

    <!-- HOW TO INVEST -->
    <section id="how-to-invest">
      <div class="card">
        <div class="card-inner">
          <div class="section-label">Step-by-step</div>
          <h2>How to invest in Umoja V2 (BNB Chain)</h2>
          <p>
            Share these steps with your invitees so they can safely join Umoja.
            Always remind them to double-check the contract on official Umoja channels.
          </p>

          <div class="steps">
            <div class="step-card">
              <div class="step-index">1</div>
              <div class="step-title">Install MetaMask &amp; add BNB Smart Chain</div>
              <div class="step-body">
                ‚Ä¢ Download the official MetaMask app or browser extension.<br />
                ‚Ä¢ In settings, add the BNB Smart Chain (BSC) network.<br />
                ‚Ä¢ Fund the wallet with BNB for the amount you plan to invest.
              </div>
            </div>

            <div class="step-card">
              <div class="step-index">2</div>
              <div class="step-title">Import the official Umoja V2 token</div>
              <div class="step-body">
                ‚Ä¢ In MetaMask, choose ‚ÄúImport tokens‚Äù and use the official contract.<br />
                ‚Ä¢ Double-check the decimals and token symbol as shared by Umoja.
                <span class="code-pill">
                  Contract: 0x8D6A79567a701FCe55b62C15d0fbB765913ac84a
                </span>
              </div>
            </div>

            <div class="step-card">
              <div class="step-index">3</div>
              <div class="step-title">Follow the official purchase instructions</div>
              <div class="step-body">
                ‚Ä¢ Use the official Umoja channel, link, or wallet address only.<br />
                ‚Ä¢ Never send funds to addresses shared in private DMs without verification.<br />
                ‚Ä¢ Keep screenshots and TX hashes for your own records.
              </div>
            </div>

            <div class="step-card">
              <div class="step-index">4</div>
              <div class="step-title">Hold &amp; follow the Umoja roadmap</div>
              <div class="step-body">
                ‚Ä¢ Store your tokens securely and never share your seed phrase.<br />
                ‚Ä¢ Follow Umoja channels for updates on staking, utilities, and future milestones.
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- INVITATION FORM -->
    <section id="invitation">
      <div class="card">
        <div class="card-inner">
          <div class="section-label">Invitation form</div>
          <h2>Submit a new Umoja V2 investment invitation</h2>
          <p>
            Use this form when you invite a new investor. The details are stored locally in the
            browser (demo). The Admin portal is separate on <span class="code-pill">admin.html</span>.
          </p>

          <p id="ref-banner" class="form-footnote" style="display:none;"></p>

          <form id="invitationForm" autocomplete="off">
            <div class="form-grid">
              <div>
                <label for="inv-name">Investor full name <span class="required">*</span></label>
                <input id="inv-name" name="name" type="text" required />
              </div>

              <div>
                <label for="inv-email">Investor email <span class="required">*</span></label>
                <input id="inv-email" name="email" type="email" required />
              </div>

              <div>
                <label for="inv-country">Country / region</label>
                <input id="inv-country" name="country" type="text" />
              </div>

              <div>
                <label for="inv-amount">
                  Estimated investment amount (USD) <span class="required">*</span>
                </label>
                <input id="inv-amount" name="amount" type="number" min="0" step="50" required />
              </div>

              <div>
                <label for="inv-wallet">BNB wallet address (investor)</label>
                <input id="inv-wallet" name="wallet" type="text" placeholder="0x..." />
              </div>

              <div>
                <label for="inv-ref-code">
                  Your referral / invitation code <span class="required">*</span>
                </label>
                <input
                  id="inv-ref-code"
                  name="referralCode"
                  type="text"
                  placeholder="Example: UMJ-HOLIDAY-001"
                  required
                />
                <div style="display:flex; gap:8px; margin-top:8px; flex-wrap:wrap;">
                  <button type="button" id="genRefBtn" class="btn btn-ghost">Generate code</button>
                  <button type="button" id="copyRefLinkBtn" class="btn btn-ghost">Copy referral link</button>
                </div>
                <p class="form-footnote" id="refLinkPreview" style="margin-top:6px;"></p>
              </div>

              <div>
                <label for="inv-contact">Preferred contact (WhatsApp / Telegram)</label>
                <input id="inv-contact" name="contact" type="text" placeholder="+1..." />
              </div>
            </div>

            <label for="inv-notes">Notes (optional)</label>
            <textarea
              id="inv-notes"
              name="notes"
              placeholder="Any extra notes about this investor."
            ></textarea>

            <p class="form-footnote">
              ‚ö†Ô∏è Demo reminder: Do not store seed phrases or highly sensitive information here.
            </p>

            <div class="hero-actions" style="margin-top: 10px;">
              <button type="submit" class="btn btn-primary">Submit invitation</button>
              <button type="button" id="clearInvitationForm" class="btn btn-ghost">
                Clear form
              </button>
            </div>

            <div id="invitationStatus" class="status"></div>
          </form>
        </div>
      </div>
    </section>

    <footer>
      <div>
        Umoja V2 ‚Ä¢ Invitations demo interface.<br />
        This page is for educational &amp; tracking purposes only and does not represent
        financial advice. Always verify details through official Umoja channels.
      </div>
      <div class="footer-links">
        <span class="footer-link">Official website</span>
        <span class="footer-link">Twitter / X</span>
        <span class="footer-link">Telegram</span>
        <span class="footer-link">Whitepaper</span>
      </div>
    </footer>
  </div>

  <!-- MAIN SCRIPT -->
  <script>
    // Read ?ref=XYZ from URL
    function getQueryParam(name) {
      const params = new URLSearchParams(window.location.search);
      return params.get(name);
    }

    // Generate an automatic referral / invitation code
    function generateReferralCode() {
      const now = new Date();
      const y = String(now.getFullYear()).slice(-2);
      const m = String(now.getMonth() + 1).padStart(2, "0");
      const d = String(now.getDate()).padStart(2, "0");
      const rand = Math.floor(Math.random() * 9999).toString().padStart(4, "0");
      return `UMJ-${y}${m}${d}-${rand}`; // e.g. UMJ-251212-4829
    }

    function buildRefLink(code) {
      const url = new URL(window.location.href);
      url.searchParams.set("ref", code);
      return url.toString();
    }

    // Smooth scroll
    document.querySelectorAll("[data-scroll-to]").forEach(btn => {
      btn.addEventListener("click", () => {
        const id = btn.getAttribute("data-scroll-to");
        const el = document.getElementById(id);
        if (!el) return;
        const top = el.getBoundingClientRect().top + window.scrollY - 16;
        window.scrollTo({ top, behavior: "smooth" });
      });
    });

    // Theme toggle
    const themeToggle = document.getElementById("themeToggle");
    const body = document.body;
    const THEME_KEY = "umojaTheme";
    function applyTheme(theme) {
      if (theme === "light") body.classList.add("theme-light");
      else body.classList.remove("theme-light");
    }
    const savedTheme = localStorage.getItem(THEME_KEY);
    if (savedTheme) applyTheme(savedTheme);
    themeToggle.addEventListener("click", () => {
      const next = body.classList.contains("theme-light") ? "dark" : "light";
      applyTheme(next);
      localStorage.setItem(THEME_KEY, next);
    });

    // Sticky mini header + logo glow
    const miniHeader = document.getElementById("miniHeader");
    const root = document.documentElement;
    window.addEventListener("scroll", () => {
      const y = window.scrollY;
      const max = 500;
      const t = Math.min(Math.max(y / max, 0), 1);
      const strength = 0.8 + t * 0.7;
      root.style.setProperty("--logo-shadow-strength", strength.toFixed(2));
      if (y > 180) miniHeader.classList.add("mini-header-visible");
      else miniHeader.classList.remove("mini-header-visible");
    });

    // MetaMask connect
    const connectWalletBtn = document.getElementById("connectWalletBtn");
    const walletStatus = document.getElementById("walletStatus");
    function setWalletStatus(msg, isError = false) {
      walletStatus.textContent = msg;
      walletStatus.style.color = isError ? "#f97373" : "#9ca3af";
    }
    if (typeof window.ethereum === "undefined") {
      connectWalletBtn.classList.add("btn-disabled");
      connectWalletBtn.disabled = true;
      setWalletStatus("MetaMask not detected. Install MetaMask to connect.", true);
    } else {
      setWalletStatus("MetaMask detected. Connect to view your address.");
      connectWalletBtn.addEventListener("click", async () => {
        try {
          const accounts = await window.ethereum.request({ method: "eth_requestAccounts" });
          const address = accounts[0];
          const short = address.slice(0, 6) + "..." + address.slice(-4);
          setWalletStatus("Connected: " + short);
        } catch (err) {
          setWalletStatus("Connection request was rejected.", true);
        }
      });
    }

    // Invitation storage & referral link handling
    const INV_KEY = "umojaInvitations";
    const invitationForm = document.getElementById("invitationForm");
    const invitationStatus = document.getElementById("invitationStatus");
    const clearInvitationFormBtn = document.getElementById("clearInvitationForm");

    const referralInput = document.getElementById("inv-ref-code");
    const refBanner = document.getElementById("ref-banner");
    const refFromUrl = getQueryParam("ref");

    const genRefBtn = document.getElementById("genRefBtn");
    const copyRefLinkBtn = document.getElementById("copyRefLinkBtn");
    const refLinkPreview = document.getElementById("refLinkPreview");

    function refreshRefPreview() {
      const code = (referralInput?.value || "").trim();
      if (!refLinkPreview) return;
      if (!code) { refLinkPreview.textContent = ""; return; }
      refLinkPreview.textContent = "Your referral link: " + buildRefLink(code);
    }

    genRefBtn?.addEventListener("click", () => {
      if (!referralInput) return;
      referralInput.value = generateReferralCode();
      referralInput.readOnly = false;
      refreshRefPreview();
    });

    copyRefLinkBtn?.addEventListener("click", async () => {
      const code = (referralInput?.value || "").trim();
      if (!code) return alert("Generate or enter a referral code first.");
      const link = buildRefLink(code);
      try {
        await navigator.clipboard.writeText(link);
        alert("Referral link copied!");
      } catch {
        prompt("Copy your referral link:", link);
      }
    });

    referralInput?.addEventListener("input", refreshRefPreview);

    if (refFromUrl && referralInput) {
      referralInput.value = refFromUrl;
      referralInput.readOnly = true;
      if (refBanner) {
        refBanner.style.display = "block";
        refBanner.textContent =
          "You were invited with referral code " + refFromUrl +
          ". This helps Umoja track rewards for your inviter.";
      }
      refreshRefPreview();
    }

    function loadInvitations() {
      try { return JSON.parse(localStorage.getItem(INV_KEY)) || []; }
      catch { return []; }
    }
    function saveInvitations(list) {
      localStorage.setItem(INV_KEY, JSON.stringify(list));
    }
    function addInvitation(record) {
      const list = loadInvitations();
      list.push(record);
      saveInvitations(list);
    }

    invitationForm.addEventListener("submit", (e) => {
      e.preventDefault();

      // If referral code is empty (and not prefilled), auto-generate one
      if (referralInput && !referralInput.value.trim()) {
        referralInput.value = generateReferralCode();
      }

      const fd = new FormData(invitationForm);
      const rec = {
        name: fd.get("name").trim(),
        email: fd.get("email").trim(),
        country: fd.get("country").trim(),
        amount: fd.get("amount").trim(),
        wallet: fd.get("wallet").trim(),
        referralCode: fd.get("referralCode").trim(),
        contact: fd.get("contact").trim(),
        notes: fd.get("notes").trim(),
        createdAt: new Date().toISOString()
      };

      if (!rec.name || !rec.email || !rec.amount || !rec.referralCode) {
        invitationStatus.textContent = "Please fill all required fields.";
        invitationStatus.className = "status status-error";
        return;
      }

      addInvitation(rec);
      invitationForm.reset();

      // If URL locked a referral, restore it after reset
      if (refFromUrl && referralInput) {
        referralInput.value = refFromUrl;
        referralInput.readOnly = true;
      }

      invitationStatus.textContent =
        "Invitation submitted. Saved locally (demo) under code " + rec.referralCode + ".";
      invitationStatus.className = "status status-success";
      refreshRefPreview();
    });

    clearInvitationFormBtn.addEventListener("click", () => {
      invitationForm.reset();
      if (refFromUrl && referralInput) {
        referralInput.value = refFromUrl;
        referralInput.readOnly = true;
      }
      invitationStatus.textContent = "";
      invitationStatus.className = "status";
      refreshRefPreview();
    });

    // Parallax on hero cards
    document.querySelectorAll(".hero-parallax").forEach(card => {
      card.addEventListener("mousemove", (e) => {
        if (window.innerWidth < 768) return;
        const rect = card.getBoundingClientRect();
        const x = e.clientX - rect.left;
        const y = e.clientY - rect.top;
        const rotateX = ((y / rect.height) - 0.5) * -8;
        const rotateY = ((x / rect.width) - 0.5) * 8;
        card.style.transform =
          `perspective(900px) rotateX(${rotateX}deg) rotateY(${rotateY}deg) translateY(-2px)`;
      });
      card.addEventListener("mouseleave", () => {
        card.style.transform = "perspective(900px) rotateX(0deg) rotateY(0deg)";
      });
    });
  </script>

  <!-- PARTICLE BACKGROUND SCRIPT -->
  <script>
    (function initParticles() {
      const canvas = document.getElementById("particleCanvas");
      const ctx = canvas.getContext("2d");
      let particles = [];
      let w, h;

      function resize() {
        w = canvas.width = window.innerWidth;
        h = canvas.height = window.innerHeight;
        particles = [];
        const count = Math.floor((w * h) / 22000);
        for (let i = 0; i < count; i++) {
          particles.push({
            x: Math.random() * w,
            y: Math.random() * h,
            r: Math.random() * 1.4 + 0.6,
            vx: (Math.random() - 0.5) * 0.25,
            vy: (Math.random() - 0.5) * 0.25,
            alpha: Math.random() * 0.6 + 0.2
          });
        }
      }

      function draw() {
        ctx.clearRect(0, 0, w, h);
        ctx.fillStyle = "#38bdf8";
        particles.forEach(p => {
          ctx.globalAlpha = p.alpha;
          ctx.beginPath();
          ctx.arc(p.x, p.y, p.r, 0, Math.PI * 2);
          ctx.fill();
          p.x += p.vx;
          p.y += p.vy;
          if (p.x < -10) p.x = w + 10;
          if (p.x > w + 10) p.x = -10;
          if (p.y < -10) p.y = h + 10;
          if (p.y > h + 10) p.y = -10;
        });
        requestAnimationFrame(draw);
      }

      resize();
      draw();
      window.addEventListener("resize", resize);
    })();
  </script>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-app.js";
  import { getFirestore, addDoc, collection, serverTimestamp } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyCbQ9fNYrq-qko-GUhKi3xSMkb_IKhrBBo",
    authDomain: "umoja-v2-landing.firebaseapp.com",
    projectId: "umoja-v2-landing",
    storageBucket: "umoja-v2-landing.firebasestorage.app",
    messagingSenderId: "964715983746",
    appId: "1:964715983746:web:b4bb1615f35d773ae7159b"
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  // This function will be called when the form submits
  window.saveInvitationToFirestore = async (invitation) => {
    await addDoc(collection(db, "invitations"), {
      ...invitation,
      createdAt: serverTimestamp()
    });
  };

  console.log("üî• Firebase connected on index.html");
</script>
</body>
</html>
